"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});function p(s){return/^(https?:)/.test(s)}function f(s,e){const t=["constructor"];return Object.getOwnPropertyNames(e).filter(r=>!t.includes(r)).forEach(r=>{const n=e[r];s[r]=typeof n=="function"?n.bind(s):n}),s}class o{constructor(e){this.defaults=e,this.interceptors={request:new h,response:new h}}request(e){var n;e={...this.defaults,...e},e.url=p(e.url)?e.url:e.baseURL+e.url;const t=[((n=this.defaults)==null?void 0:n.adapter)||q,null];this.interceptors.request.forEach(function(l){t.unshift(l.fulfilled,l.rejected)}),this.interceptors.response.forEach(function(l){t.push(l.fulfilled,l.rejected)});let u=Promise.resolve(e),r=0;for(;r<t.length;)u=u.then(t[r++],t[r++]);return u}options(e="",t={}){return this.request({method:"OPTIONS",url:e,...t})}get(e="",t={}){return this.request({method:"GET",url:e,...t})}head(e="",t={}){return this.request({method:"HEAD",url:e,...t})}post(e="",t={}){return this.request({method:"POST",url:e,...t})}put(e="",t={}){return this.request({method:"PUT",url:e,...t})}delete(e="",t={}){return this.request({method:"DELETE",url:e,...t})}trace(e="",t={}){return this.request({method:"TRACE",url:e,...t})}connect(e="",t={}){return this.request({method:"CONNECT",url:e,...t})}}class h{constructor(){this.handlers=[]}use(e,t){return this.handlers.push({fulfilled:e||null,rejected:t||null}),this.handlers.length-1}eject(e){this.handlers[e]={fulfilled:null,rejected:null}}clear(){this.handlers=[]}forEach(e){this.handlers.forEach(t=>{e(t)})}}function q(s){return new Promise((e,t)=>{const u=wx.request({...s,success:r=>{e(r)},fail:r=>{t(r)}});s.getRequestTask&&s.getRequestTask(u)})}function i(s){const e=new o(s),t=o.prototype.request.bind(e);return Object.assign(t,f(e,o.prototype))}const c={baseURL:"",header:{}},a=Object.assign(i(c),{create(s){return i({...c,...s})}});exports.default=a;exports.simpleAxios=a;
